<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PX4开发环境搭建 | The Note of HelloWorldYC</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/Note/images/myfavicon.png">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/Note/assets/css/0.styles.e8dc7ea4.css" as="style"><link rel="preload" href="/Note/assets/js/app.8b312968.js" as="script"><link rel="preload" href="/Note/assets/js/3.f13ea13a.js" as="script"><link rel="preload" href="/Note/assets/js/71.baea49cd.js" as="script"><link rel="prefetch" href="/Note/assets/js/10.8c37b0ca.js"><link rel="prefetch" href="/Note/assets/js/11.c448a16a.js"><link rel="prefetch" href="/Note/assets/js/12.0cf1b244.js"><link rel="prefetch" href="/Note/assets/js/13.5ca1dc51.js"><link rel="prefetch" href="/Note/assets/js/14.045cbfef.js"><link rel="prefetch" href="/Note/assets/js/15.694a9bfa.js"><link rel="prefetch" href="/Note/assets/js/16.28dbba86.js"><link rel="prefetch" href="/Note/assets/js/17.17ff7745.js"><link rel="prefetch" href="/Note/assets/js/18.1be46d82.js"><link rel="prefetch" href="/Note/assets/js/19.bb0338d4.js"><link rel="prefetch" href="/Note/assets/js/2.9b0fc3fd.js"><link rel="prefetch" href="/Note/assets/js/20.c4ec5597.js"><link rel="prefetch" href="/Note/assets/js/21.0f1b4034.js"><link rel="prefetch" href="/Note/assets/js/22.3575d720.js"><link rel="prefetch" href="/Note/assets/js/23.1ee24d88.js"><link rel="prefetch" href="/Note/assets/js/24.22f36471.js"><link rel="prefetch" href="/Note/assets/js/25.68ba6f2b.js"><link rel="prefetch" href="/Note/assets/js/26.2c905d29.js"><link rel="prefetch" href="/Note/assets/js/27.307219cd.js"><link rel="prefetch" href="/Note/assets/js/28.251f414d.js"><link rel="prefetch" href="/Note/assets/js/29.8763bc97.js"><link rel="prefetch" href="/Note/assets/js/30.4bfbbfe1.js"><link rel="prefetch" href="/Note/assets/js/31.9dd6f153.js"><link rel="prefetch" href="/Note/assets/js/32.9cf3a29f.js"><link rel="prefetch" href="/Note/assets/js/33.b7c6babc.js"><link rel="prefetch" href="/Note/assets/js/34.365777ce.js"><link rel="prefetch" href="/Note/assets/js/35.74e6324c.js"><link rel="prefetch" href="/Note/assets/js/36.32e33d85.js"><link rel="prefetch" href="/Note/assets/js/37.5e9aa2b5.js"><link rel="prefetch" href="/Note/assets/js/38.8a3426a9.js"><link rel="prefetch" href="/Note/assets/js/39.4a721a96.js"><link rel="prefetch" href="/Note/assets/js/4.f194844a.js"><link rel="prefetch" href="/Note/assets/js/40.05d19318.js"><link rel="prefetch" href="/Note/assets/js/41.023fc973.js"><link rel="prefetch" href="/Note/assets/js/42.bcc0d108.js"><link rel="prefetch" href="/Note/assets/js/43.78f018ac.js"><link rel="prefetch" href="/Note/assets/js/44.8976730d.js"><link rel="prefetch" href="/Note/assets/js/45.d25d42bd.js"><link rel="prefetch" href="/Note/assets/js/46.d5bd2e93.js"><link rel="prefetch" href="/Note/assets/js/47.ef2dfd76.js"><link rel="prefetch" href="/Note/assets/js/48.05af559c.js"><link rel="prefetch" href="/Note/assets/js/49.bd2c7ad0.js"><link rel="prefetch" href="/Note/assets/js/5.f872d96f.js"><link rel="prefetch" href="/Note/assets/js/50.074323d1.js"><link rel="prefetch" href="/Note/assets/js/51.27874125.js"><link rel="prefetch" href="/Note/assets/js/52.4e9969c5.js"><link rel="prefetch" href="/Note/assets/js/53.51a51537.js"><link rel="prefetch" href="/Note/assets/js/54.8bc9cff8.js"><link rel="prefetch" href="/Note/assets/js/55.5d0c87ab.js"><link rel="prefetch" href="/Note/assets/js/56.0a6f35d5.js"><link rel="prefetch" href="/Note/assets/js/57.9f1fb165.js"><link rel="prefetch" href="/Note/assets/js/58.ce8675eb.js"><link rel="prefetch" href="/Note/assets/js/59.ed4b8a34.js"><link rel="prefetch" href="/Note/assets/js/6.bd1de53f.js"><link rel="prefetch" href="/Note/assets/js/60.bbc0b532.js"><link rel="prefetch" href="/Note/assets/js/61.c458ad63.js"><link rel="prefetch" href="/Note/assets/js/62.c7e01d92.js"><link rel="prefetch" href="/Note/assets/js/63.c3d9edd4.js"><link rel="prefetch" href="/Note/assets/js/64.72d4d94c.js"><link rel="prefetch" href="/Note/assets/js/65.08060cdf.js"><link rel="prefetch" href="/Note/assets/js/66.cddf4078.js"><link rel="prefetch" href="/Note/assets/js/67.b5f2179e.js"><link rel="prefetch" href="/Note/assets/js/68.1459e50c.js"><link rel="prefetch" href="/Note/assets/js/69.c90ed07c.js"><link rel="prefetch" href="/Note/assets/js/7.4ab3f29b.js"><link rel="prefetch" href="/Note/assets/js/70.6d110729.js"><link rel="prefetch" href="/Note/assets/js/72.965c6579.js"><link rel="prefetch" href="/Note/assets/js/73.98154152.js"><link rel="prefetch" href="/Note/assets/js/8.fa61aead.js"><link rel="prefetch" href="/Note/assets/js/9.c9e36b57.js">
    <link rel="stylesheet" href="/Note/assets/css/0.styles.e8dc7ea4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Note/" class="home-link router-link-active"><!----> <span class="site-name">The Note of HelloWorldYC</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>matlab</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>无人机项目</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Note/无人机项目/PX4开发环境搭建.html" class="active sidebar-link">PX4开发环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/无人机项目/PX4开发环境搭建.html#px4开发环境搭建" class="sidebar-link">PX4开发环境搭建</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Note/无人机项目/PX4开发环境搭建.html#搭建步骤" class="sidebar-link">搭建步骤</a></li><li class="sidebar-sub-header"><a href="/Note/无人机项目/PX4开发环境搭建.html#安装过程出现的问题" class="sidebar-link">安装过程出现的问题：</a></li></ul></li></ul></li><li><a href="/Note/无人机项目/对P110B的理解.html" class="sidebar-link">对P110B的理解</a></li><li><a href="/Note/无人机项目/ROS学习心得.html" class="sidebar-link">ROS学习心得</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数字图像处理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>深度学习</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>信源数估计</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="px4开发环境搭建"><a href="#px4开发环境搭建" class="header-anchor">#</a> PX4开发环境搭建</h2> <h3 id="搭建步骤"><a href="#搭建步骤" class="header-anchor">#</a> 搭建步骤</h3> <p><strong>（1）添加用户到 dialout 工作组</strong><br>
将创建的用户加入到用户组 dialout 中去，注销后重新登录。<br>
创建独立用户的目的是这样可以让开发环境分离开来，避免出现不同用户间的版本冲突等情况。<br>
将用户加入dialout用户组的目的是dialout拥有对串口tty的操作权限。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">usermod</span> -a -G dialout <span class="token environment constant">$USER</span>
</code></pre></div><p><strong>（2）安装软件包</strong><br>
更新软件源列表：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> update -y
</code></pre></div><p>安装git、zip、cmake、qt、ninja等必用软件包：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">git</span> <span class="token function">zip</span> qtcreator cmake build-essential genromfs ninja-build exiftool -y
</code></pre></div><p>安装常用python依赖包及管理工具：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> python-argparse python-empy python-toml python-numpy python-yaml python-dev python-pip -y
<span class="token function">sudo</span> -H pip <span class="token function">install</span> --upgrade pip
<span class="token function">sudo</span> -H pip <span class="token function">install</span> pandas jinja2 pyserial cerberus
</code></pre></div><p><strong>（3）安装日志分析工具</strong><br>
Pyulog可以帮助处理 px4 的日志文件，尤其是在提取单个 topic 的数据时非常方便，建议安装。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> -H pip <span class="token function">install</span> pyulog
</code></pre></div><p><strong>（4）安装Gazebo仿真软件</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 依赖包安装：</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> protobuf-compiler libeigen3-dev libopencv-dev

<span class="token comment"># 设置软件包的来源：</span>
<span class="token function">sudo</span> <span class="token function">sh</span> -c <span class="token string">'echo &quot;deb http://packages.osrfoundation.org/gazebo/ubuntu-stable `lsb_release -cs` main&quot; &gt; /etc/apt/sources.list.d/gazebo-stable.list'</span>

<span class="token comment"># 设置软件包密钥:</span>
<span class="token function">wget</span> http://packages.osrfoundation.org/gazebo.key -O - <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -

<span class="token comment"># 更新软件源列表:</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update -y

<span class="token comment"># 安装Gazebo:</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> gazebo9 -y

<span class="token comment"># 安装Gazebo9的依赖包：</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libgazebo9-dev -y
</code></pre></div><ul><li>更正：gazebo 还是要用版本7的，用9的可能有问题</li></ul> <p><strong>（5）安装ROS和MAVROS</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 设置软件包的来源：</span>
<span class="token function">sudo</span> <span class="token function">sh</span> -c <span class="token string">'echo &quot;deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main&quot; &gt; /etc/apt/sources.list.d/ros-latest.list'</span>

<span class="token comment"># 设置软件包密钥:</span>
<span class="token comment">#sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 0xB01FA116</span>
<span class="token function">sudo</span> apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key F42ED6FBAB17C654

<span class="token comment"># 更新软件源列表:</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update

<span class="token comment"># 安装基础版ROS和MAVROS：</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y ros-kinetic-ros-base ros-kinetic-mavros ros-kinetic-mavros-extras

<span class="token comment"># 证书问题：</span>
<span class="token function">sudo</span> c_rehash /etc/ssl/certs

<span class="token comment"># MAVROS支持包：</span>
<span class="token function">sudo</span> geographiclib-get-geoids egm96-5

<span class="token comment"># rosdep初始化：</span>
<span class="token function">sudo</span> rosdep init

<span class="token comment"># rosdep更新：</span>
rosdep update

<span class="token comment"># 设置ros运行环境：</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;source /opt/ros/kinetic/setup.bash&quot;</span> <span class="token operator">&gt;&gt;</span> <span class="token environment constant">$HOME</span>/.bashrc
<span class="token builtin class-name">source</span> /opt/ros/kinetic/setup.bash
</code></pre></div><p><strong>（6）安装交叉编译器</strong><br>
在<a href="https://developer.arm.com/tools-and-software/open-source-software/developer-tools/gnu-toolchain/gnu-rm/downloads" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 下载gcc，建议<code>2017-q4</code>版本，也可在百度网盘下载。</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 解压缩：</span>
<span class="token function">tar</span> -jxf gcc-arm-none-eabi-7-2017-q4-major-linux.tar.bz2

<span class="token comment"># 配置编译环境，将编译器的路径放到.bashrc或者.profile文件中：</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/home/myc/gcc/gcc-arm-none-eabi-7-2017-q4-major/bin:<span class="token environment constant">$PATH</span>

<span class="token comment"># 添加完后更新.bashrc文件</span>
<span class="token builtin class-name">source</span> ~/.bashrc 

<span class="token comment"># 查看编译器版本确认是否配置成功：</span>
arm-none-eabi-gcc --version
</code></pre></div><p><strong>（7）安装QGC</strong>
在安装之前，先运行以下命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">usermod</span> -a -G dialout <span class="token environment constant">$USER</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> remove modemmanager -y
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> gstreamer1.0-plugins-bad gstreamer1.0-libav gstreamer1.0-gl -y
</code></pre></div><p>重新登录使设置生效，接着下载 <code>QGroundControl.AppImage</code> ，再进入到 QGC 目录运行以下命令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">chmod</span> +x ./QGroundControl.AppImage
./QGroundControl.AppImage
</code></pre></div><p><strong>（8）安装PX4源码</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># 下载代码：</span>
<span class="token function">git</span> clone https://github.com/PX4/Firmware.git

<span class="token comment"># 更新子模块：</span>
<span class="token builtin class-name">cd</span> Firmware 
<span class="token function">git</span> submodule update --init --recursive

<span class="token comment"># 编译：（这一步是编译可以烧写到PX4上的固件，不修改固件的不一定需要用到）</span>
<span class="token function">make</span> px4_fmu-v3_default   <span class="token comment">#（不一定是v3版本，还可能是v4 或 v2）</span>

<span class="token comment"># 编译后上传：</span>
<span class="token function">make</span> px4_fmu-v3_default upload
</code></pre></div><p><strong>（9）环境配置验证</strong><br>
打开一个 Terminal，进入到 px4 文件夹下，输入以下指令：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">make</span> px4_sitl_default gazebo
</code></pre></div><br> <br> <h3 id="安装过程出现的问题"><a href="#安装过程出现的问题" class="header-anchor">#</a> 安装过程出现的问题：</h3> <ul><li><strong><code>sudo apt-get update</code> 时出错：</strong></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>W: GPG 错误：http://packages.ros.org/ros/ubuntu xenial InRelease: 由于没有公钥，无法验证下列签名： NO_PUBKEY F42ED6FBAB17C654
W: 仓库 “http://packages.ros.org/ros/ubuntu xenial InRelease” 没有数字签名。
N: 无法认证来自该源的数据，所以使用它会带来潜在风险。
N: 参见 apt-secure<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> 手册以了解仓库创建和用户配置方面的细节。
</code></pre></div><p>解决方案：<br>
设置软件包密钥时，其最后的码要根据不同的电脑进行修改，根据错误中的提示修改，即修改<br> <code>sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 0xB01FA116</code>为<br> <code>sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key F42ED6FBAB17C654</code> <br> <br></p> <ul><li><strong>在<code>sudo rosdep init</code> 时出错：</strong></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>ERROR: cannot download default sources list from:
https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/sources.list.d/20-default.list
Website may be down.
</code></pre></div><p>问题原因：<code>raw.githubusercontent.com</code>网站不能访问，需要修改 hosts 文件，添加新网站的 ip 地址。<br>
解决方案：<br>
打开终端，输入<code>sudo gedit /etc/hosts</code>。<br>
在打开的文本最后添加：<code>199.232.28.133 raw.githubusercontent.com</code>。<br>
保存并退出，在终端中输入：<code>sudo rosdep init</code>。<br>
然后再输入：<code>rosdep update</code>。
<br> <br></p> <ul><li><strong>当修改环境变量.bashrc文件后source出错时，重新修改回去，将错误的路径删掉：</strong></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token string">&quot;<span class="token environment constant">$PATH</span>:/usr/bin&quot;</span>
<span class="token function">sudo</span> gedit ~/.bashrc
<span class="token builtin class-name">source</span> ~/.bashrc     <span class="token comment"># 修改完后更新环境变量</span>
</code></pre></div><br> <ul><li><strong>安装 QGC 时执行<code>sudo apt-get remove modemmanager -y</code>命令出错：</strong></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>E: 无法获得锁 /var/lib/dpkg/lock-frontend - <span class="token function">open</span> <span class="token punctuation">(</span><span class="token number">11</span>: 资源暂时不可用<span class="token punctuation">)</span>
E: 无法获取 dpkg 前端锁 <span class="token punctuation">(</span>/var/lib/dpkg/lock-frontend<span class="token punctuation">)</span>，是否有其他进程正占用它？
</code></pre></div><p>问题原因：可能是上次安装时没正常完成，而导致出现此状况。<br>
解决方案：将原先的<code>apt-get</code>进程杀死，重新激活新的<code>apt-get</code>进程，就可以让软件管理器正常工作了。查看<code>apt-get</code>的相关进程：<code>ps -e | grep apt</code>，然后将显示的进程杀死：<code>sudo kill [进程号]</code> <br> <br></p> <ul><li><strong>在安装QGC时执行<code>sudo apt install gstreamer1.0-plugins-bad gstreamer1.0-libav gstreamer1.0-gl -y</code>出错：</strong></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>E: 无法定位软件包 gstreamer1.0-gl
E: 无法按照 glob ‘gstreamer1.0-gl’ 找到任何软件包
E: 无法按照正则表达式 gstreamer1.0-gl 找到任何软件包
</code></pre></div><br> <ul><li><strong>在下载PX4源码更新子模块<code>git submodule update --init –-recursive</code>时出错：</strong></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>error: pathspec <span class="token string">'–-recursive'</span> did not match any file<span class="token punctuation">(</span>s<span class="token punctuation">)</span> known to git.
</code></pre></div><p>原因：上面的<code>--recursive</code>打错了，最好手打。<br>
若还是有问题，试试在<code>git submodule update --init --recursive</code>前先输入<code>git submodule sync --recursive</code> <br> <br></p> <ul><li><strong>编译PX4时出现以下类似这种错误：</strong></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>Failed to <span class="token function">import</span> yaml: No module named <span class="token string">'yaml'</span>
You may need to <span class="token function">install</span> it using:
    pip3 <span class="token function">install</span> --user pyyaml
</code></pre></div><p>解决方案：
按照提示的改，即输入<code>pip3 install --user pyyaml</code>。
<br> <br></p> <ul><li><strong>在<code>sudo apt-get install ***</code>时出错：</strong></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>下列软件包有未满足的依赖关系：
 libayatana-appindicator3-1 <span class="token builtin class-name">:</span> 依赖: libayatana-indicator3-7 <span class="token punctuation">(</span><span class="token operator">&gt;=</span> <span class="token number">0.6</span>.0<span class="token punctuation">)</span> 但是它将不会被安装
 libegl1-mesa <span class="token builtin class-name">:</span> 依赖: libgbm1 <span class="token punctuation">(</span><span class="token operator">=</span> <span class="token number">18.0</span>.5-0ubuntu0~16.04.1<span class="token punctuation">)</span>
 libsane <span class="token builtin class-name">:</span> 依赖: libsane1 <span class="token punctuation">(</span><span class="token operator">&gt;=</span> <span class="token number">1.0</span>.31-4<span class="token punctuation">)</span> 但是它将不会被安装
 perl-base <span class="token builtin class-name">:</span> 破坏: debconf <span class="token punctuation">(</span><span class="token operator">&lt;</span> <span class="token number">1.5</span>.61<span class="token punctuation">)</span> 但是 <span class="token number">1.5</span>.58ubuntu2 正要被安装
             破坏: debconf:i386 <span class="token punctuation">(</span><span class="token operator">&lt;</span> <span class="token number">1.5</span>.61<span class="token punctuation">)</span>
 rygel <span class="token builtin class-name">:</span> 依赖: libges-1.0-0 <span class="token punctuation">(</span><span class="token operator">&gt;=</span> <span class="token number">1.16</span><span class="token punctuation">)</span> 但是它将不会被安装
 sane-utils <span class="token builtin class-name">:</span> 依赖: update-inetd 但是它将不会被安装
              依赖: libsane1 <span class="token punctuation">(</span><span class="token operator">&gt;=</span> <span class="token number">1.0</span>.27<span class="token punctuation">)</span> 但是它将不会被安装
E: 错误，pkgProblemResolver::Resolve 发生故障，这可能是有软件包被要求保持现状的缘故。
</code></pre></div><p>解决方案：提示依赖什么，就安装依赖库及其版本号（低的那个），例如<br> <code>sudo apt install libcupsimage2-dev=2.2.10-6+deb10u1</code>。
<br> <br></p> <ul><li><p><strong>在<code>make px4_sitl_default gazebo</code> 时出错：编译器g++出错</strong><br>
问题原因：可能是内存不够。<br>
解决方法：将 swap 交换内存扩大，并启用，因为有可能并没有启用。
<br> <br></p></li> <li><p><strong>gazebo卡在加载世界模型界面/加载太慢</strong><br>
解决方案：直接下载所有模型到用户的根目录下的<code>.gazebo/models/</code>下：</p></li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> ~/.gazebo/
<span class="token function">mkdir</span> -p models
<span class="token builtin class-name">cd</span> ~/.gazebo/models/
<span class="token function">wget</span> http://file.ncnynl.com/ros/gazebo_models.txt
</code></pre></div><p>输出了<code>gazebo_models.txt</code>，可用 ls 查看
继续运行：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">wget</span> -i gazebo_models.txt
<span class="token function">ls</span> model.tar.g* <span class="token operator">|</span> <span class="token function">xargs</span> -n1 <span class="token function">tar</span> xzvf
</code></pre></div><br> <ul><li><strong>make px4_sitl_default gazebo 时出现错误：虚拟机无法分配内存</strong></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Note/python/面向对象.html" class="prev">
        面向对象编程
      </a></span> <span class="next"><a href="/Note/无人机项目/对P110B的理解.html">
        对P110B的理解
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/Note/assets/js/app.8b312968.js" defer></script><script src="/Note/assets/js/3.f13ea13a.js" defer></script><script src="/Note/assets/js/71.baea49cd.js" defer></script>
  </body>
</html>
